
import meshtools 

var m = LineMesh(fn (t) [t,0,0], 0..1) 

var cg2 = FunctionSpace("CG2", grade=1)

var f = Field(m, fn (x,y,z) x^2, functionspace=cg2)

var ans = 20/21

print (LineIntegral(fn (x) 1-x[0]^20, method={ }).total(m) - ans) < 1e-8
// expect: true

print (LineIntegral(fn (x, g) 1-x[0]^20, f, method={ }).total(m) - ans) < 1e-8
// expect: true

print (LineIntegral(fn (x, g) 1-g^10, f, method={ }).total(m) - ans) < 1e-8
// expect: true
