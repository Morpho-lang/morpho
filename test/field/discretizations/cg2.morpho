
import meshtools 

var m = LineMesh(fn (t) [t,0,0], 0..1:0.5) 

var l = FunctionSpace("CG2", grade=1)

var f = Field(m, fn (x,y,z) x^2, functionspace=l)

print l.layout(f)
// expect: [ 1 0 ]
// expect: [ 1 1 ]
// expect: [ 0 1 ]
// expect: [ 1 0 ]
// expect: [ 0 1 ]

print f.shape()
// expect: [ 1, 1 ]

print (LineIntegral(fn (x, u) u, f, method={ }).total(m) - 1/3) < 1e-10
// expect: true 