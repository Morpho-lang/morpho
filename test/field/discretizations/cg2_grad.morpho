
import meshtools 

var mb = MeshBuilder() 
mb.addvertex([0,0])
mb.addvertex([1,0])
mb.addvertex([0,1])
mb.addvertex([1,1])
mb.addface([0,1,2])
mb.addface([1,3,2])
var m = mb.build()
m.addgrade(1)

var l = FunctionSpace("CG2", grade=2)

var f = Field(m, fn (x,y) x*y, functionspace=l)

fn integrand(x, q) {
    var g = grad(q)
    return g.norm()^2
}

print AreaIntegral(integrand, f, method={ }).total(m)-4/3